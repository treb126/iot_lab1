# Лабораторна робота № 1
У даній лабораторній роботі ви здобудете навички роботи з модулями радіопередачі на частоті 433МГц.
# Передавач

![433MHz-RF-Transmitter-Working-Block-Diagram](https://github.com/user-attachments/assets/e4d932ca-20be-4e49-befe-897a599ea6a1)
 В основі модуля лежить резонатор SAW, налаштований на роботу на частоті 433,xx МГц. Крім того, він має перемикаючий транзистор і деякі пасивні компоненти.

Коли на вході DATA високий рівень, генератор генерує постійну радіочастотну вихідну несучу хвилю на частоті 433,xx МГц, а коли на вході DATA низький рівень, генератор припиняє роботу; що призводить до амплітудно-модульованої хвилі. Ця техніка відома як амплітудна маніпуляція, яку ми розглянемо докладніше.
# Приймач
![433MHz-RF-Receiver-Working-Block-Diagram](https://github.com/user-attachments/assets/2ab5536e-4dfb-4abd-b8c4-689fc39ea2ae)
Він такий же простий, як і модуль передавача, незважаючи на зовнішній вигляд. Він складається з радіочастотної налаштованої схеми та кількох операційних підсилювачів (OP Amps), які підсилюють отриману несучу хвилю. Посилений сигнал потім подається в PLL ( контур фазового автопідстроювання ), що дозволяє декодеру «зафіксувати» потік цифрових бітів, що призводить до покращеного декодованого виходу та стійкості до перешкод.
# ASK – амплітудна маніпуляція
Як згадувалося раніше, ці модулі використовують техніку, відому як  амплітудна маніпуляція , або ASK, для передачі цифрових даних по радіо. У модуляції зі зсувом амплітуди амплітуда несучої хвилі (сигнал 433 МГц у нашому випадку) змінюється у відповідь на вхідний сигнал даних.

Це дуже схоже на техніку амплітудної модуляції, яка використовується в AM-радіо. Оскільки він має лише два рівні, його іноді називають двійковою амплітудною маніпуляцією.

Уявіть це як вимикач.

Для логічної 1 – несуча хвиля передається.

Для логічного 0 – сигнал не передається.

Перевага ASK у тому, що її дуже просто реалізувати. Схема декодера досить проста в конструюванні. Крім того, ASK вимагає меншої пропускної здатності, ніж інші методи модуляції, такі як FSK (частотна маніпуляція). Це одна з причин, чому це економічно ефективно.

Недоліком ASK є те, що він чутливий до перешкод від іншого радіообладнання та навколишнього шуму. Однак, поки ви передаєте дані з відносно повільною швидкістю, вони можуть передаватись надійно в більшості середовищ.
Розпіновка радіочастотного передавача та приймача 433 МГц

![image](https://github.com/user-attachments/assets/ea6947f4-33b6-48c1-a249-124f7ced1cd7)

![image](https://github.com/user-attachments/assets/6c84f7b6-76ac-480b-a57f-de83c23e520d)

ДАНІ - pin приймає цифрові дані для передачі.

VCC - забезпечує живлення передавача. Можна використовувати будь-яку позитивну напругу постійного струму від 3,5 В до 12 В. Слід зазначити, що радіочастотний вихід пропорційний напрузі живлення, тому чим вища напруга, тим більший діапазон.

GND - є контактом заземлення.

Антена - це штифт, який підключається до зовнішньої антени. 

![image](https://github.com/user-attachments/assets/6d9f2ddc-e8f1-4ae2-be04-1452bb1e6417)

VCC забезпечує живлення приймача. На відміну від передавача, для приймача потрібна напруга живлення 5 В.

ДАНІ виведення отриманих цифрових даних. Обидва контакти внутрішньо пов’язані, тому ви можете використовувати будь-який з них для виведення даних.

GND є контактом заземлення.

Антена - це штифт, який підключається до зовнішньої антени. 

# Підключення модулів радіочастотного передавача та приймача 433 МГц до ESP.

Підключити передавач просто, оскільки він має лише три з’єднання.

Підключіть контакт VCC модуля до контакту 5 В ESP та GND до землі. Вхід даних повинен бути підключений до цифрового контакту №16 на ESP. Спробуйте використовувати лише цифровий пін №16 для введення даних.

Після підключення передавача можна переходити до приймача. Електропроводка приймача така ж проста, як і передавача.

Знову ж таки, потрібно зробити лише три з’єднання. Підключіть контакт VCC модуля до контакту 5 В ESP та GND до землі. Підключіть будь-який із двох середніх контактів для виведення даних до цифрового контакту №16 ESP, оскільки вони внутрішньо з’єднані.

# RadioHead Library – швейцарський армійський ніж для бездротових модулів

На відміну від просунутих РЧ-модулів, таких як  nRF24L01 , РЧ-модуль 433 МГц є базовим РЧ-модулем без вбудованого виявлення помилок передачі даних. Тому ми несемо відповідальність за включення CRC ( перевірка циклічної надлишковості ) у наш код.

Ось тут і стане в нагоді відома  бібліотека RadioHead  . Він обробляє обчислення CRC, що робить зв’язок більш надійним. Бібліотека настільки універсальна, що її можна використовувати з будь-яким типом радіочастотного модуля, а не лише з радіочастотними модулями 433 МГц.

На кінці передавача бібліотека RadioHead бере дані, інкапсулює їх у пакет даних (відомий як пакет RadioHead) із контрольною сумою CRC, а потім надсилає його до іншого модуля з необхідною преамбулою та заголовком. На стороні приймача, якщо дані отримані правильно, приймаюча сторона отримує сповіщення про наявність даних.

# Пакет RadioHead

Пакет RadioHead створюється таким чином: на початку кожної передачі надсилається 36-бітний потік пар бітів «1» і «0», відомий як «Навчальна преамбула». Ці біти необхідні для того, щоб приймач регулював свій посилення перед отриманням фактичних даних. Потім додається 12-бітний «Символ початку», а потім фактичні дані (корисне навантаження).

У кінці пакету додається послідовність перевірки кадру або CRC, яка перераховується RadioHead на стороні приймача, і якщо перевірка CRC правильна, приймаючий пристрій попереджає. Якщо перевірка CRC не вдається, пакет відкидається.

Ось так виглядає пакет RadioHead:

![image](https://github.com/user-attachments/assets/c62b847f-cbee-4883-b778-be3a9022e194)

Далі роботу продовжимо у теках Receiver та Transceiver відповідно.

Source: https://lastminuteengineers.com/433mhz-rf-wireless-arduino-tutorial/
